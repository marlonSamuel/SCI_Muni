webpackJsonp([1],{"1/oy":function(e,t){},"3/3Q":function(e,t){},"9M+g":function(e,t){},GfHa:function(e,t){},H0vN:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,a){"use strict";function o(e){a("S8jo")}function r(e){a("oJ8F")}function n(e){a("3/3Q")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),s=a("zL8q"),l=a.n(s),c=a("JR9b"),d=a.n(c),u=(a("tvR6"),a("iFuF")),m=a.n(u),p=a("e6fC"),g=(a("Jmt5"),a("9M+g"),a("rifk")),f=a.n(g),v={name:"NavegationMenu",data:function(){return{isCollapse:!1,items:[{icon:"dashboard",text:"Dashboard",path:"/"},{icon:"address-book",text:"Recursos Humanos",children:[{icon:"list",text:"Departamentos",path:"/departamento"},{icon:"black-tie",text:"Cargos",path:"/cargo"},{icon:"user",text:"Empleados",path:"/empleado"}]},{icon:"product-hunt",text:"Almacen",children:[{icon:"star",text:"Categoria Almacen",path:"/categoriaAlmacen"},{icon:"star",text:"Categoria Producto",path:"/categoriaProducto"},{icon:"product-hunt",text:"Productos",path:"/producto"}]},{icon:"star",text:"Solicitudes",children:[{icon:"star",text:"Solicitud",path:"Solicitud"}]},{icon:"shopping-cart",text:"Pedidos",children:[{icon:"building",text:"Proveedores",path:"/proveedor"},{icon:"shopping-cart",text:"Compras",path:"compra"}]},{icon:"industry",text:"Reportes",children:[{icon:"industry",text:"Reportes",path:"/reporte"}]}]}},methods:{redirect:function(e){void 0!==e&&this.$router.push(e)}}},h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},model:{value:e.isCollapse,callback:function(t){e.isCollapse=t},expression:"isCollapse"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("expand")]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v("collapse")])],1)],1),e._v(" "),a("div",[a("el-menu",{attrs:{"default-active":"0",collapse:e.isCollapse}},[e._l(e.items,function(t,o){return[void 0!==t.children?a("el-submenu",{attrs:{index:o.toString()}},[a("template",{slot:"title"},[a("i",{class:"fa fa-"+t.icon}),e._v(" "),a("span",[e._v(e._s(t.text))])]),e._v(" "),a("el-menu-item-group",{attrs:{title:"Opciones"}},e._l(t.children,function(t,r){return a("el-menu-item",{attrs:{index:o.toString()+r},on:{click:function(a){e.redirect(t.path)}}},[a("i",{class:"fa fa-"+t.icon}),e._v(" "),a("span",[e._v(e._s(t.text))])])}))],2):e._e(),e._v(" "),void 0===t.children?a("el-menu-item",{attrs:{index:"2"},on:{click:function(a){e.redirect(t.path)}}},[a("i",{class:"fa fa-"+t.icon}),e._v(" "),a("span",[e._v(e._s(t.text))])]):e._e()]})],2)],1)])},b=[],_={render:h,staticRenderFns:b},w=_,y=a("VU/8"),x=y(v,w,!1,null,null,null),k=x.exports,C={name:"TopHeader",data:function(){return{user:window.User}},methods:{goTo:function(e){void 0!==e&&this.$router.push(e)}}},S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:10}},[a("h1",{on:{click:function(t){e.goTo("/")}}},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-home"}),e._v("SCI-MuniTecuaco")])])]),e._v(" "),a("el-col",{staticClass:"text-right user-options",attrs:{span:10}},[a("a",{staticClass:"item",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-user"},[e._v("  "+e._s(e.user.Primer_Nombre+" "+e.user.Primer_apellido)+" \n        "),a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("Perfil")]),e._v(" "),a("el-dropdown-item",[a("a",{staticClass:"item",attrs:{href:"/auth/logout"}},[a("i",{staticClass:"fa fa-sign-out-alt"},[e._v("Salir")])])])],1)],1)],1)])])],1)},M=[],A={render:S,staticRenderFns:M},j=A,$=a("VU/8"),P=o,z=$(C,j,!1,P,null,null),D=z.exports,N={components:{navegationmenu:k,topHeader:D},props:{source:String}},I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{attrs:{id:"header"}},[a("topHeader")],1),e._v(" "),a("el-container",[a("el-aside",{staticStyle:{width:"240px"}},[a("navegationmenu")],1),e._v(" "),a("el-container",[a("el-main",[a("el-row",[a("el-col",{attrs:{span:24}},[a("router-view",{key:e.$route.fullPath})],1)],1)],1),e._v(" "),a("el-footer",[e._v("© "),a("a",{attrs:{target:"_blank",href:"#"}},[e._v(e._s("Control de Inventario Municipalidad de San juan Tecuaco "+(new Date).getFullYear()))])])],1)],1)],1)},E=[],U={render:I,staticRenderFns:E},F=U,T=a("VU/8"),B=T(N,F,!1,null,null,null),R=B.exports,q=a("/ocq"),V={name:"Default"},L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Dashboard")]),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"alert-info"},[a("el-main",[e._v("Sistema Control de Inventarios Municipalidad de San Juan tecuaco")])],1)])])},H=[],O={render:L,staticRenderFns:H},Y=O,G=a("VU/8"),J=G(V,Y,!1,null,null,null),X=J.exports,W={name:"DepartamentoIndex",data:function(){return{titulo:"Nuevo Registro",gridMode:!0,insertMode:!1,search:"",filter:"",loading:!1,items:[],form:{id:0,nombre:null,descripcion:null},rules:{nombre:[{required:!0,message:"Debe ingresar un nombre"}]}}},created:function(){this.getAll()},methods:{Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,nombre:null,descripcion:null};e.mapData(t)},mapData:function(e){var t=this;t.form.id=e.id,t.form.nombre=e.nombre,t.form.descripcion=e.descripcion,console.log(t.form)},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},editar:function(e){var t=this;t.titulo=e.nombre,t.mapData(e),t.gridMode=!1,t.insertMode=!0},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.departamentoService.getAll().then(function(t){e.loading=!1,e.items=t.data}).catch(function(e){})},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){var a=e.form;e.loading=!0,e.$store.state.services.departamentoService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,a.id>0?e.message("Departamento actualizado correctamente","success"):e.message("Departamento insertado correctamente","success")}).catch(function(e){})}})},remove:function(e){function t(){var t=e.id;a.loading=!0,a.$store.state.services.departamentoService.remove(t).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de eliminar a "+e.nombre+"?",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Departamento"+e.nombre+"Eliminado correctamente","success")}).catch(function(){})},message:function(e,t){this.$message({message:e,type:t})}},computed:{filteredDeptos:function(){var e=this;return e.items.filter(function(t){return t.nombre.toLowerCase().includes(e.search.toLowerCase())})}}},Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Departamentos")]),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",placeholder:"buscar por nombre","suffix-icon":"fa fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.filteredDeptos}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombre:")]),e._v(" "+e._s(t.row.nombre))]),e._v(" "),a("p",[a("b",[e._v("Descripcion:")]),e._v(" "+e._s(t.row.descripcion))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Nombre",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n            "+e._s(t.row.nombre)+"\r\n         ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"descripcion",label:"Descripcion",width:"400",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"Nombre",prop:"nombre"}},[a("el-input",{model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Descripcion"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Cancelar")])],1)],1)],1)])},K=[],Z={render:Q,staticRenderFns:K},ee=Z,te=a("VU/8"),ae=te(W,ee,!1,null,null,null),oe=ae.exports,re={name:"cargo",created:function(){this.getAll()},props:{Url:{type:String,default:null}},data:function(){return{titulo:"Nuevo Registro",gridMode:!0,insertMode:!1,loading:!1,search:"",grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{id:0,nombre:null,descripcion:null},rules:{nombre:[{required:!0,message:"Debe ingresar un nombre"}]}}},methods:{Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,nombre:null,descripcion:null};e.mapData(t)},mapData:function(e){var t=this;t.form.id=e.id,t.form.nombre=e.nombre,t.form.descripcion=e.descripcion,console.log(t.form)},editar:function(e){var t=this;t.titulo=e.nombre,t.mapData(e),t.gridMode=!1,t.insertMode=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.cargoService.getAll(e.grid.pagination).then(function(t){e.grid.items=t.data.data||[],e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){var a=e.form;e.loading=!0,e.$store.state.services.cargoService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,a.id>0?e.message("Cargo actualizado correctamente","success"):e.message("Cargo insertado correctamente","success")}).catch(function(e){})}})},remove:function(e){function t(){var t=e.id;a.loading=!0,a.$store.state.services.cargoService.remove(t).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de eliminar a "+e.nombre+"?",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Cargo"+e.nombre+"Eliminado correctamente","success")}).catch(function(){})},message:function(e,t){this.$message({message:e,type:t})}},computed:{filteredCargos:function(){var e=this;return e.grid.items.filter(function(t){return t.nombre.toLowerCase().includes(e.search.toLowerCase())})}}},ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Cargos")]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",placeholder:"buscar por nombre","suffix-icon":"fa fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filteredCargos,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombre:")]),e._v(" "+e._s(t.row.nombre))]),e._v(" "),a("p",[a("b",[e._v("Descripcion:")]),e._v(" "+e._s(t.row.descripcion))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Nombre",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descripcion",label:"descripcion",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"Nombre",prop:"nombre"}},[a("el-input",{model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Descripcion"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Cancelar")])],1)],1)],1)])},ie=[],se={render:ne,staticRenderFns:ie},le=se,ce=a("VU/8"),de=ce(re,le,!1,null,null,null),ue=de.exports,me={name:"empleado",created:function(){var e=this;e.getAll(),e.getDeptos(),e.getCargo()},props:{Url:{type:String,default:null}},data:function(){return{labelPosition:"top",titulo:"Nuevo Registro",search:"",itemsDeptos:[],itemsCargos:[],gridMode:!0,insertMode:!1,loading:!1,grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{empleadoId:0,primer_apellido:null,primer_nombre:null,segundo_nombre:null,segundo_apellido:null,departamentoId:0,cargoId:0,telefono:null,direccion:null},rules:{primer_nombre:[{required:!0,message:"Debe ingresar un nombre"}],telefono:[{required:!0,message:"Debe ingresar un numero de telefono"}],departamentoId:[{required:!0,message:"Debe ingresar un departamento"}],cargoId:[{required:!0,message:"Debe ingresar un cargo"}],direccion:[{required:!0,message:"Debe ingresar una direccion"}],primer_apellido:[{required:!0,message:"Debe ingresar un apellido"}]}}},methods:{Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,primer_apellido:null,primer_nombre:null,segundo_nombre:null,segundo_apellido:null,departamentoId:0,cargoId:0,telefono:null,direccion:null};e.mapData(t)},mapData:function(e){var t=this;t.form.empleadoId=e.empleadoId,t.form.primer_nombre=e.primer_nombre,t.form.segundo_nombre=e.segundo_nombre,t.form.primer_apellido=e.primer_apellido,t.form.segundo_apellido=e.segundo_nombre,t.form.telefono=e.telefono,t.form.direccion=e.direccion,t.form.departamentoId=e.departamentoId,t.form.cargoId=e.cargoId},editar:function(e){var t=this;t.titulo=e.primer_nombre+" "+e.primer_apellido,t.mapData(e),t.gridMode=!1,t.insertMode=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.empleadoService.getAll(e.grid.pagination).then(function(t){e.grid.items=t.data.data||[],e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){var a=e.form;e.loading=!0,e.$store.state.services.empleadoService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,a.empleadoId>0?e.message("Empleado Actualizado correctamente","success"):e.message("Empleado insertado correctamente","success")}).catch(function(e){})}})},remove:function(e){function t(){var t=e.empleadoId;a.loading=!0,a.$store.state.services.empleadoService.remove(t).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de eliminar a "+e.primer_nombre+"?",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Empleado"+e.primer_nombre+"Eliminado correctamente","success")}).catch(function(){})},getDeptos:function(){var e=this;e.loading=!0,e.$store.state.services.departamentoService.getAll().then(function(t){e.loading=!1,e.itemsDeptos=t.data}).catch(function(e){})},getCargo:function(){var e=this;e.loading=!0,e.$store.state.services.cargoService.getAll(e.grid.pagination).then(function(t){e.itemsCargos=t.data.data||[],e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},message:function(e,t){this.$message({message:e,type:t})}},computed:{filteredEmpleados:function(){var e=this;return e.grid.items.filter(function(t){return(t.primer_nombre+" "+t.segundo_nombre+" "+t.primer_apellido+" "+t.segundo_apellido).toLowerCase().includes(e.search.toLowerCase())})}}},pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Empleados")]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",placeholder:"buscar por nombre","suffix-icon":"fa fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filteredEmpleados,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombres:")]),e._v(" "+e._s(t.row.primer_nombre+" "+t.row.segundo_nombre))]),e._v(" "),a("p",[a("b",[e._v("Apellidos:")]),e._v(" "+e._s(t.row.primer_apellido+" "+t.row.segundo_apellido))]),e._v(" "),a("p",[a("b",[e._v("Departamento:")]),e._v(" "+e._s(t.row.departamento))]),e._v(" "),a("p",[a("b",[e._v("Cargo:")]),e._v(" "+e._s(t.row.cargo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"primer_nombre",label:"Nombres",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n            "+e._s(t.row.primer_nombre+" "+t.row.segundo_nombre)+"\r\n         ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"primer_apellido",label:"Apellidos",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"telefono",label:"Telefono",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"direccion",label:"Direccion",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{"label-position":e.labelPosition,model:e.form,rules:e.rules}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Primer Nombre",prop:"primer_nombre"}},[a("el-input",{model:{value:e.form.primer_nombre,callback:function(t){e.$set(e.form,"primer_nombre",t)},expression:"form.primer_nombre"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Segundo Nombre"}},[a("el-input",{model:{value:e.form.segundo_nombre,callback:function(t){e.$set(e.form,"segundo_nombre",t)},expression:"form.segundo_nombre"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Primer Apellido",prop:"primer_apellido"}},[a("el-input",{model:{value:e.form.primer_apellido,callback:function(t){e.$set(e.form,"primer_apellido",t)},expression:"form.primer_apellido"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Segundo Apellido"}},[a("el-input",{model:{value:e.form.segundo_apellido,callback:function(t){e.$set(e.form,"segundo_apellido",t)},expression:"form.segundo_apellido"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"Departamento",prop:"departamentoId"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Departamento"},model:{value:e.form.departamentoId,callback:function(t){e.$set(e.form,"departamentoId",t)},expression:"form.departamentoId"}},e._l(e.itemsDeptos,function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"Cargo",prop:"cargoId"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Departamento"},model:{value:e.form.cargoId,callback:function(t){e.$set(e.form,"cargoId",t)},expression:"form.cargoId"}},e._l(e.itemsCargos,function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Telefono",prop:"telefono"}},[a("el-input",{model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"Direccion",prop:"direccion"}},[a("el-input",{model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion",t)},expression:"form.direccion"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Cancelar")])],1)],1)],1)],1)])},ge=[],fe={render:pe,staticRenderFns:ge},ve=fe,he=a("VU/8"),be=he(me,ve,!1,null,null,null),_e=be.exports,we={name:"categoria_almacen",created:function(){this.getAll()},props:{Url:{type:String,default:null}},data:function(){return{titulo:"Nuevo Registro",gridMode:!0,insertMode:!1,loading:!1,itemsTemp:[],grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{id:0,nombre:null,descripcion:null},rules:{nombre:[{required:!0,message:"Debe ingresar un nombre"}]}}},methods:{Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,nombre:null,descripcion:null};e.mapData(t)},mapData:function(e){var t=this;t.form.id=e.id,t.form.nombre=e.nombre,t.form.descripcion=e.descripcion,console.log(t.form)},editar:function(e){var t=this;t.titulo=e.nombre,t.mapData(e),t.gridMode=!1,t.insertMode=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.categoriaAlmacenService.getAll(e.grid.pagination).then(function(t){e.grid.items=t.data.data||[],e.itemsTemp=e.grid.items,e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){var a=e.form;e.loading=!0,e.$store.state.services.categoriaAlmacenService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,a.id>0?e.message("Categoria Almacen actualizado correctamente","success"):e.message("Categoria Almacen insertado correctamente","success")}).catch(function(e){})}})},remove:function(e){function t(){var t=e.id;a.loading=!0,a.$store.state.services.categoriaAlmacenService.remove(t).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de eliminar a "+e.nombre+"?",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Categoria"+e.nombre+"Eliminado correctamente","success")}).catch(function(){})},message:function(e,t){this.$message({message:e,type:t})}}},ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Categorias Almacen")]),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.grid.items,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombre:")]),e._v(" "+e._s(t.row.nombre))]),e._v(" "),a("p",[a("b",[e._v("Descripcion:")]),e._v(" "+e._s(t.row.descripcion))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Nombre",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descripcion",label:"descripcion",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"Nombre",prop:"nombre"}},[a("el-input",{model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Descripcion"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Cancelar")])],1)],1)],1)])},xe=[],ke={render:ye,staticRenderFns:xe},Ce=ke,Se=a("VU/8"),Me=Se(we,Ce,!1,null,null,null),Ae=Me.exports,je={name:"categoria_producto",created:function(){var e=this;e.getAll(),e.getCategorias()},props:{Url:{type:String,default:null}},data:function(){return{titulo:"Nuevo Registro",gridMode:!0,insertMode:!1,loading:!1,itemsCat:[],grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{id:0,nombre:null,categoriaAlmacenId:0,descripcion:null},rules:{nombre:[{required:!0,message:"Debe ingresar un nombre"}]}}},methods:{Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,nombre:null,categoriaAlmacenId:0,descripcion:null};e.mapData(t)},mapData:function(e){var t=this;t.form.id=e.id,t.form.categoriaAlmacenId=e.categoriaAlmacenId,t.form.nombre=e.nombre,t.form.descripcion=e.descripcion,console.log(t.form)},editar:function(e){var t=this;t.titulo=e.nombre,t.mapData(e),t.gridMode=!1,t.insertMode=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.categoriaProductoService.getAll(e.grid.pagination).then(function(t){e.grid.items=t.data.data||[],e.itemsTemp=e.grid.items,e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},getCategorias:function(){var e=this;e.$store.state.services.categoriaAlmacenService.getAll(e.grid.pagination).then(function(t){e.itemsCat=t.data.data||[],e.loading=!1}).catch(function(t){e.loading=!1})},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){var a=e.form;e.loading=!0,e.$store.state.services.categoriaProductoService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,a.id>0?e.message("Categoria Producto actualizado correctamente","success"):e.message("Categoria Producto insertado correctamente","success")}).catch(function(e){})}})},remove:function(e){function t(){var t=e.id;a.loading=!0,a.$store.state.services.categoriaProductoService.remove(t).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de eliminar a "+e.nombre+"?",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Categoria "+e.nombre+" Eliminado correctamente","success")}).catch(function(){})},message:function(e,t){this.$message({message:e,type:t})}}},$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Categorias Producto")]),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.grid.items,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombre:")]),e._v(" "+e._s(t.row.nombre))]),e._v(" "),a("p",[a("b",[e._v("Descripcion:")]),e._v(" "+e._s(t.row.descripcion))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Nombre",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descripcion",label:"descripcion",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{"label-position":"top",model:e.form,rules:e.rules}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Nombre",prop:"nombre"}},[a("el-input",{model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Categoria Almacen",prop:"categoriaAlmacenId"}},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.form.categoriaAlmacenId,callback:function(t){e.$set(e.form,"categoriaAlmacenId",t)},expression:"form.categoriaAlmacenId"}},e._l(e.itemsCat,function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})}))],1)],1),e._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"Descripcion"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Cancelar")])],1)],1)],1)],1)])},Pe=[],ze={render:$e,staticRenderFns:Pe},De=ze,Ne=a("VU/8"),Ie=Ne(je,De,!1,null,null,null),Ee=Ie.exports,Ue={name:"producto",created:function(){this.getCategorias()},data:function(){return{itemsCaegoriasAlmacen:[],selectedTab:"",categoriaId:0,search:"",grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}}}},methods:{tabAlmacen:function(e,t){var a=this,o=parseInt(e.name);a.categoriaId=o,a.getAll()},send:function(e){var t=new Object;t.ProductoId=e.id,t.Id=0,t.nombre=e.nombre,t.stock=e.stock,t.precioCompra=e.precio,t.precio=e.precio,t.cantidad=0,t.cantidad_entregada=0,t.cantidad_solicitada=0,t.stock=e.stock,t.subtotal=e.precio*t.cantidad,t.subtotalE=e.precio*t.cantidad,this.$emit("clicked",t)},getCategorias:function(){var e=this;e.$store.state.services.categoriaAlmacenService.getAll(e.grid.pagination).then(function(t){e.itemsCaegoriasAlmacen=t.data.data||[],e.selectedTab=e.itemsCaegoriasAlmacen[0].id.toString(),e.categoriaId=e.itemsCaegoriasAlmacen[0].id,e.getAll(),e.loading=!1}).catch(function(t){e.loading=!1})},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.productoService.getAll(e.grid.pagination,e.categoriaId).then(function(t){e.grid.items=t.data.data||[],e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()}},computed:{filterProducto:function(){var e=this;return e.grid.items.filter(function(t){return t.nombre.toLowerCase().includes(e.search.toLowerCase())})}}},Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{on:{"tab-click":e.tabAlmacen},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.itemsCaegoriasAlmacen,function(t){return a("el-tab-pane",{key:t.id,attrs:{label:t.nombre,name:t.id.toString()}},[a("h2",[e._v(e._s(t.nombre))]),e._v(" "),a("h2",[e._v("Productos")]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",placeholder:"buscar por nombre","suffix-icon":"fa fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filterProducto,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombre:")]),e._v(" "+e._s(t.row.nombre))]),e._v(" "),a("p",[a("b",[e._v("Categoria Producto:")]),e._v(" "+e._s(t.row.categoria))]),e._v(" "),a("p",[a("b",[e._v("Precio:")]),e._v(" "+e._s(e._f("currency")(t.row.precio)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Nombre",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"precio",label:"Precio Unitario",sortable:"",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n             "+e._s(e._f("currency")(t.row.precio))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"Existencia",sortable:"",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:"Estado",sortable:"",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return["D"==t.row.estado?a("b",[a("el-tag",[e._v("Disponible")])],1):e._e(),e._v(" "),"P"==t.row.estado?a("b",[a("el-tag",{attrs:{type:"danger"}},[e._v("Prestado")])],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"Agregar",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"medium"},on:{click:function(a){e.send(t.row)}}},[a("i",{staticClass:"fa fa-plus-square",attrs:{"aria-hidden":"true"}})])]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1)}))},Te=[],Be={render:Fe,staticRenderFns:Te},Re=Be,qe=a("VU/8"),Ve=qe(Ue,Re,!1,null,null,null),Le=Ve.exports,He={name:"producto",components:{producto:Le},created:function(){this.getCategorias()},data:function(){return{titulo:"Nuevo Registro",selectedTab:"",gridMode:!0,insertMode:!1,search:"",loading:!1,itemsCat:[],itemsCatProd:[],categoriaId:null,grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{id:0,categoriaId:0,almacenId:0,nombre:null,stock_maximo:null,stock_minimo:null,descripcion:null,precio:0,stock:null,estado:null},rules:{categoriaId:[{required:!0,message:"Debe ingresar una categoria"}],nombre:[{required:!0,message:"Debe ingresar un nombre"}],stock_maximo:[{required:!0,message:"Debe ingresar un stock maximo"}],stock_minimo:[{required:!0,message:"Debe ingresar un stock minimo"}],stock:[{required:!0,message:"Debe ingresar un stock"}],precio:[{required:!0,message:"Debe ingresar un precio"}]}}},methods:{tabAlmacen:function(e,t){var a=this,o=parseInt(e.name);a.categoriaId=o,a.getAll()},Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,almacenId:0,categoriaId:0,nombre:null,stock_Maximo:null,stock_Minimo:null,precio:0,stock:null,descripcion:null,estado:"D"};e.mapData(t)},mapData:function(e){var t=this;t.form.id=e.id,t.form.categoriaId=e.categoriaId,t.form.nombre=e.nombre,t.form.descripcion=e.descripcion,t.form.stock_maximo=e.stock_Maximo,t.form.stock_minimo=e.stock_Minimo,t.form.stock=e.stock,t.form.precio=e.precio,t.form.almacenId=e.almacenId,t.form.estado=e.estado,t.getCategoriasProductos(t.categoriaId)},editar:function(e){var t=this;t.titulo=e.nombre,t.mapData(e),t.gridMode=!1,t.insertMode=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},getCategorias:function(){var e=this;e.$store.state.services.categoriaAlmacenService.getAll(e.grid.pagination).then(function(t){e.itemsCat=t.data.data||[],e.selectedTab=e.itemsCat[0].id.toString(),e.categoriaId=e.itemsCat[0].id,e.getAll(),e.loading=!1}).catch(function(t){e.loading=!1})},getCategoriasProductos:function(e){var t=this;t.$store.state.services.categoriaProductoService.getByAlmacen(e).then(function(e){t.itemsCatProd=e.data||[],t.loading=!1}).catch(function(e){t.loading=!1})},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.productoService.getAll(e.grid.pagination,e.categoriaId).then(function(t){e.grid.items=t.data.data||[],e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){var a=e.form;e.loading=!0,e.$store.state.services.productoService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,a.id>0?e.message("producto Actualizado correctamente","success"):e.message("producto insertado correctamente","success")}).catch(function(e){})}})},remove:function(e){function t(){var t=e.id,o=e.almacenId;a.loading=!0,a.$store.state.services.productoService.remove(t,o).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de eliminar a "+e.nombre+"?",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Producto "+e.nombre+" Eliminado correctamente","success")}).catch(function(){})},message:function(e,t){this.$message({message:e,type:t})}},computed:{filterProducto:function(){var e=this;return e.grid.items.filter(function(t){return t.nombre.toLowerCase().includes(e.search.toLowerCase())})}}},Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("el-tabs",{on:{"tab-click":e.tabAlmacen},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.itemsCat,function(t,o){return a("el-tab-pane",{key:t.id,attrs:{label:t.nombre,name:t.id.toString()}},[a("h2",[e._v(e._s(t.nombre))]),e._v(" "),a("h2",[e._v("Productos")]),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",placeholder:"buscar por nombre","suffix-icon":"fa fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filterProducto,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombre:")]),e._v(" "+e._s(t.row.nombre))]),e._v(" "),a("p",[a("b",[e._v("Categoria Producto:")]),e._v(" "+e._s(t.row.categoria))]),e._v(" "),a("p",[a("b",[e._v("Precio:")]),e._v(" "+e._s(e._f("currency")(t.row.precio)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Nombre",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"precio",label:"Precio Unitario",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n               "+e._s(e._f("currency")(t.row.precio))+"\r\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"Existencia",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{label:"Estado",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return["D"==t.row.estado?a("b",[a("el-tag",[e._v("Disponible")])],1):e._e(),e._v(" "),"P"==t.row.estado?a("b",[a("el-tag",{attrs:{type:"danger"}},[e._v("Prestado")])],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1)}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{"label-position":"top",model:e.form,rules:e.rules}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Nombre",prop:"nombre"}},[a("el-input",{model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Categoria Producto",prop:"categoriaId"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"Categoria"},model:{value:e.form.categoriaId,callback:function(t){e.$set(e.form,"categoriaId",t)},expression:"form.categoriaId"}},e._l(e.itemsCatProd,function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Precio",prop:"precio"}},[a("el-input-number",{attrs:{precision:2,min:0},model:{value:e.form.precio,callback:function(t){e.$set(e.form,"precio",t)},expression:"form.precio"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Stock Maximo",prop:"stock_maximo"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form.stock_maximo,callback:function(t){e.$set(e.form,"stock_maximo",t)},expression:"form.stock_maximo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Stock Minimo",prop:"stock_minimo"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form.stock_minimo,callback:function(t){e.$set(e.form,"stock_minimo",t)},expression:"form.stock_minimo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Existencia Actual",prop:"stock"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form.stock,callback:function(t){e.$set(e.form,"stock",t)},expression:"form.stock"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"Descripcion",prop:"descripcion"}},[a("el-input",{attrs:{type:"textarea",rows:2,min:0},model:{value:e.form.descripcion,callback:function(t){e.$set(e.form,"descripcion",t)},expression:"form.descripcion"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Cancelar")])],1)],1)],1)],1)])},Ye=[],Ge={render:Oe,staticRenderFns:Ye},Je=Ge,Xe=a("VU/8"),We=Xe(He,Je,!1,null,null,null),Qe=We.exports,Ke={name:"proveedor",created:function(){this.getAll()},props:{Url:{type:String,default:null}},data:function(){return{titulo:"Nuevo Registro",gridMode:!0,insertMode:!1,loading:!1,itemsTemp:[],grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{id:0,nombre:null,telefono:null,direccion:null,email:null,nit:null},rules:{nombre:[{required:!0,message:"Debe ingresar un nombre"}],telefono:[{required:!0,message:"Debe ingresar un numero de telefono"}],direccion:[{required:!0,message:"Debe ingresar una direccion"}],email:[{required:!0,message:"Debe ingresar un correo electronico"}]}}},methods:{querySearchAsync:function(e,t){var a=this,o=a.itemsTemp,r=e?o.filter(this.createFilter(e)):o;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.grid.items=r,t(r)})},createFilter:function(e){return function(t){return 0===t.nombre.toLowerCase().indexOf(e.toLowerCase())}},Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,nombre:null,direccion:null,email:null,telefono:null,nit:null};e.mapData(t)},mapData:function(e){var t=this;t.form.id=e.id,t.form.nombre=e.nombre,t.form.telefono=e.telefono,t.form.direccion=e.direccion,t.form.email=e.email,t.form.nit=e.nit},editar:function(e){var t=this;t.titulo=e.nombre,t.mapData(e),t.gridMode=!1,t.insertMode=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.proveedorService.getAll(e.grid.pagination).then(function(t){e.grid.items=t.data.data||[],e.itemsTemp=e.grid.items,e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){var a=e.form;e.loading=!0,e.$store.state.services.proveedorService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,cargo.id>0?e.message("Proveedor actualizado correctamente","success"):e.message("Proveedor insertado correctamente","success")}).catch(function(e){})}})},remove:function(e){function t(){var t=e.id;a.loading=!0,a.$store.state.services.proveedorService.remove(t).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de eliminar a "+e.nombre+"?",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Cargo"+e.nombre+"Eliminado correctamente","success")}).catch(function(){})},message:function(e,t){this.$message({message:e,type:t})}}},Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Proveedores")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-autocomplete",{attrs:{"suffix-icon":"fa fa-search","fetch-suggestions":e.querySearchAsync,placeholder:"Buscar por nombre"}})],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.grid.items,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Nombre:")]),e._v(" "+e._s(t.row.nombre))]),e._v(" "),a("p",[a("b",[e._v("Telefono:")]),e._v(" "+e._s(t.row.telefono))]),e._v(" "),a("p",[a("b",[e._v("Direccion:")]),e._v(" "+e._s(t.row.direccion))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Nombre",sortable:"",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"telefono",label:"telefono",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"direccion",label:"direccion",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"email",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{model:e.form,rules:e.rules}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Nombre",prop:"nombre"}},[a("el-input",{model:{value:e.form.nombre,callback:function(t){e.$set(e.form,"nombre",t)},expression:"form.nombre"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Telefono",prop:"telefono"}},[a("el-input",{model:{value:e.form.telefono,callback:function(t){e.$set(e.form,"telefono",t)},expression:"form.telefono"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Email",prop:"email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"Nit",prop:"nit"}},[a("el-input",{model:{value:e.form.nit,callback:function(t){e.$set(e.form,"nit",t)},expression:"form.nit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Direccion",prop:"direccion"}},[a("el-input",{model:{value:e.form.direccion,callback:function(t){e.$set(e.form,"direccion",t)},expression:"form.direccion"}})],1)],1),e._v(" "),a("el-col",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.cancelar}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Cancelar")])],1)],1)],1)],1)])},et=[],tt={render:Ze,staticRenderFns:et},at=tt,ot=a("VU/8"),rt=ot(Ke,at,!1,null,null,null),nt=rt.exports,it=a("bOdI"),st=a.n(it),lt={name:"compra",components:{producto:Le},created:function(){var e=this;e.getAll(),e.getProveedores()},data:function(){var e;return{search:"",titulo:"Nuevo Registro",gridMode:!0,insertMode:!1,disabledInputs:!1,showButtons:!0,proveedores:[],detalles:[],tipos:[{value:"B",label:"Bienes"},{value:"M",label:"Materiales"},{value:"A",label:"Suministros"},{value:"S",label:"Servicios"}],grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:(e={Id:0,proveedorId:0,fecha:null,no_serie:null,tipo:null,factura:null,estado:null,totalCompra:0},st()(e,"estado","A"),st()(e,"detalle",[]),e),rules:{proveedorId:[{required:!0,message:"Debe ingresar un proveedor"}],fecha:[{required:!0,message:"Debe ingresar una fecha"}],no_serie:[{required:!0,message:"Debe ingresar un numero de compra"}]},formDetalle:{precio:0,cantidad:0}}},methods:{show:function(){this.$modal.show("producto")},hide:function(){this.$modal.hide("producto")},addProducto:function(e){this.detalles.push(e)},removeProducto:function(e){var t=this,a=t.detalles.indexOf(e);t.detalles.splice(a,1)},totalAmount:function(){var e=this,t=this.detalles.reduce(function(t,a,o){return e.detalles[o].subtotal=a.precioCompra*a.cantidad,t+a.precioCompra*a.cantidad},0);return e.form.totalCompra=t,t},Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0;var t={id:0,fecha:null,no_serie:null,totalCompra:0,proveedorId:0,tipo:null,factura:null};e.mapData(t),e.showButtons=!0,e.disabledInputs=!1},mapData:function(e){var t=this;t.form.id=e.id,t.form.proveedorId=e.proveedorId,t.form.fecha=e.fecha,t.form.no_serie=e.no_serie,t.totalCompra=e.totalCompra,t.form.factura=e.factura,t.form.tipo=e.tipo,t.totalAmount()},editar:function(e){var t=this;t.titulo="Detalle Compra",t.$store.state.services.compraService.getDetalle(e.id).then(function(e){t.detalles=e.data}).catch(function(e){}),t.mapData(e),t.gridMode=!1,t.insertMode=!0,t.showButtons=!1,t.disabledInputs=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1,e.detalles=[]},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.compraService.getAll(e.grid.pagination).then(function(t){e.grid.items=t.data.data||[],e.itemsTemp=e.grid.items,e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){e.form.detalle=e.detalles;var a=e.form;e.loading=!0,e.$store.state.services.compraService.save(a).then(function(t){e.getAll(),e.loading=!1,e.gridMode=!0,e.insertMode=!1,a.id>0?e.message("Compra Actualizado correctamente","success"):e.message("Compra insertada correctamente","success")}).catch(function(e){})}})},getProveedores:function(){var e=this;e.loading=!0,e.$store.state.services.proveedorService.getAll(e.grid.pagination).then(function(t){e.loading=!1,e.proveedores=t.data.data}).catch(function(e){})},remove:function(e){function t(){var t=e.id;a.loading=!0,a.$store.state.services.compraService.remove(t).then(function(e){a.loading=!1,a.getAll()}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de anular esta venta ",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Venta ha sido Anulada","success")}).catch(function(){})},message:function(e,t){this.$message({message:e,type:t})}}},ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Compras")]),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.grid.items,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Fecha:")]),e._v(" "+e._s(e._f("moment")(t.row.fecha,"llll")))]),e._v(" "),a("p",[a("b",[e._v("Proveedor:")]),e._v(" "+e._s(t.row.proveedor))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fecha",label:"Fecha",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n            "+e._s(e._f("moment")(t.row.fecha,"DD-MM-YYYY"))+"\r\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"proveedor",label:"Proveedor",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalCompra",label:"Total Compra",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n            "+e._s(e._f("currency")(t.row.totalCompra))+"\r\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Estado",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return["A"==t.row.estado?a("b",[a("el-tag",{attrs:{type:"success"}},[e._v("Aceptada")])],1):e._e(),e._v(" "),"R"==t.row.estado?a("b",[a("el-tag",{attrs:{type:"danger"}},[e._v("Anulada")])],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{disabled:"R"==t.row.estado,type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(a){e.remove(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"small"},on:{click:function(a){e.editar(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{"label-position":"top",model:e.form,rules:e.rules}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Proveedor",prop:"proveedorId"}},[a("el-select",{attrs:{zize:"large",disabled:e.disabledInputs,filterable:"",clearable:"",placeholder:"Proveedor"},model:{value:e.form.proveedorId,callback:function(t){e.$set(e.form,"proveedorId",t)},expression:"form.proveedorId"}},e._l(e.proveedores,function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Numero de serie",prop:"no_serie"}},[a("el-input",{attrs:{disabled:e.disabledInputs},model:{value:e.form.no_serie,callback:function(t){e.$set(e.form,"no_serie",t)},expression:"form.no_serie"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Factura",prop:"factura"}},[a("el-input",{attrs:{disabled:e.disabledInputs},model:{value:e.form.factura,callback:function(t){e.$set(e.form,"factura",t)},expression:"form.factura"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Tipo de compra"}},[a("el-select",{attrs:{disabled:e.disabledInputs,placeholder:"Tipo de Compra"},model:{value:e.form.tipo,callback:function(t){e.$set(e.form,"tipo",t)},expression:"form.tipo"}},e._l(e.tipos,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Fecha",prop:"fecha"}},[a("el-date-picker",{attrs:{disabled:e.disabledInputs,type:"datetime",placeholder:"Selecione la fecha y hora"},model:{value:e.form.fecha,callback:function(t){e.$set(e.form,"fecha",t)},expression:"form.fecha"}})],1)],1),e._v(" "),a("el-col",{staticClass:"form-group",attrs:{span:24}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showButtons,expression:"showButtons"}],attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.show}},[e._v("Agregar Articulo")])],1),e._v(" "),a("div",{staticClass:"space"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.detalles,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showButtons,expression:"showButtons"}],attrs:{type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(t){e.removeProducto()}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nombre",label:"Producto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"precio",label:"Precio Compra"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{disabled:e.disabledInputs,precision:2,min:0},model:{value:t.row.precioCompra,callback:function(a){e.$set(t.row,"precioCompra",a)},expression:"scope.row.precioCompra"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cantidad",label:"Cantidad"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{disabled:e.disabledInputs,min:0},model:{value:t.row.cantidad,callback:function(a){e.$set(t.row,"cantidad",a)},expression:"scope.row.cantidad"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"subtotal",label:"Subtotal"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("h6",[e._v(e._s(e._f("currency")(t.row.subtotal)))])])]}}])})],1),e._v(" "),a("div",[a("h5",{staticClass:"pull-right text-success"},[e._v("Total: "+e._s(e._f("currency")(e.totalAmount())))])])],1),e._v(" "),a("el-row",{staticClass:"space"},[a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showButtons,expression:"showButtons"}],attrs:{type:"primary"},on:{click:function(t){e.save()}}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.cancelar()}}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Volver")])],1)],1)],1)],1),e._v(" "),a("modal",{attrs:{transition:"nice-modal-fade",adaptive:!0,classes:"demo-modal-class",width:"60%",height:"auto",name:"producto"}},[a("div",{staticClass:"size-modal-content"},[a("producto",{on:{clicked:e.addProducto}})],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{on:{click:e.hide}},[e._v("Cerrar")])],1)]),e._v(" "),a("modals-container")],1)},dt=[],ut={render:ct,staticRenderFns:dt},mt=ut,pt=a("VU/8"),gt=r,ft=pt(lt,mt,!1,gt,null,null),vt=ft.exports,ht={name:"proceso",created:function(){this.getAll()},props:{Url:{type:String,default:null}},data:function(){return{gridMode:!0,insertMode:!1,loading:!1,itemsTemp:[],grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{id:0,nombre:null,descripcion:null},rules:{nombre:[{required:!0,message:"Debe ingresar un nombre"}]}}},methods:{editar:function(e){var t=this;t.titulo=e.nombre,t.mapData(e),t.gridMode=!1,t.insertMode=!0},enviar:function(e){this.$emit("clicked",e)},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.solicitudService.getAll(e.grid.pagination,"E").then(function(t){e.grid.items=t.data.data||[],e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},message:function(e,t){this.$message({message:e,type:t})}}},bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("div",{staticClass:"form-group container card"},[a("h4",[e._v("en proceso")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.grid.items,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Fecha Solicitud:")]),e._v(" "+e._s(t.row.fecha_solicitud))]),e._v(" "),a("p",[a("b",[e._v("Departamento:")]),e._v(" "+e._s(t.row.departamento))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fecha_solicitud",label:"Fecha",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                  "+e._s(e._f("moment")(t.row.fecha_solicitud,"DD-MM-YYYY"))+"\r\n              ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"departamento",label:"Departamento",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"Total",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                    "+e._s(e._f("currency")(t.row.total))+"\r\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.enviar(t.row)}}},[a("i",{staticClass:"fa fa-save"})])]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1)])])},_t=[],wt={render:bt,staticRenderFns:_t},yt=wt,xt=a("VU/8"),kt=xt(ht,yt,!1,null,null,null),Ct=kt.exports,St={name:"historial",created:function(){this.getAll()},props:{Url:{type:String,default:null}},data:function(){return{gridMode:!0,insertMode:!1,loading:!1,itemsTemp:[],grid:{items:[],total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{id:0,nombre:null,descripcion:null},rules:{nombre:[{required:!0,message:"Debe ingresar un nombre"}]}}},methods:{ver:function(e){this.$emit("clicked",e)},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.solicitudService.getAll(e.grid.pagination,"F").then(function(t){e.grid.items=t.data.data||[],e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e){this.grid.pagination.page=e,this.getAll()},message:function(e,t){this.$message({message:e,type:t})}}},Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{staticClass:"form-group container card"},[a("h4",[e._v("Historial")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.grid.items,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Fecha Solicitud:")]),e._v(" "+e._s(t.row.fecha_solicitud))]),e._v(" "),a("p",[a("b",[e._v("Departamento:")]),e._v(" "+e._s(t.row.departamento))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fecha_solicitud",label:"Fecha",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                  "+e._s(e._f("moment")(t.row.fecha_solicitud,"DD-MM-YYYY"))+"\r\n              ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"departamento",label:"Departamento",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"Total",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                    "+e._s(e._f("currency")(t.row.total))+"\r\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"small"},on:{click:function(a){e.ver(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1)])},At=[],jt={render:Mt,staticRenderFns:At},$t=jt,Pt=a("VU/8"),zt=Pt(St,$t,!1,null,null,null),Dt=zt.exports,Nt={components:{producto:Le,proceso:Ct,historial:Dt},name:"solicitud",created:function(){var e=this;e.getEmpleados(),e.getAll()},data:function(){return{search:"",titulo:"Nuevo Registro",stockVacio:!1,gridMode:!0,insertMode:!1,loading:!1,disabledInputs:!1,showCant:!1,showSave:!0,disableEntrega:!0,showButtons:!0,producto:{},solicitadas:[],enviadas:[],historicos:[],empleados:[],detalles:[],tipos:[{value:"B",label:"Bienes"},{value:"M",label:"Materiales"},{value:"A",label:"Suministros"},{value:"S",label:"Servicios"}],grid:{total:0,pagination:{rowsPerPage:6,page:1,sortBy:"nombre",descending:!1}},form:{Id:0,empleadoId:0,fecha_solicitud:null,fecha_entrega:null,no_serie:null,no_orden:null,tipo:null,total:0,codigo:0,codigo_programatico:0,estado_solicitud:"L",detalle:[]},rules:{empleadoId:[{required:!0,message:"Debe ingresar un empleado"}],fecha:[{required:!0,message:"Debe ingresar una fecha"}],no_serie:[{required:!0,message:"Debe ingresar un numero de compra"}]},formDetalle:{precio:0,cantidad_solicitada:0,cantidad_entregada:0}}},methods:{show:function(){this.$modal.show("producto")},hide:function(){this.$modal.hide("producto")},addProducto:function(e){this.detalles.push(e)},removeProducto:function(e){var t=this,a=t.detalles.indexOf(e);t.detalles.splice(a,1)},totalAmount:function(){var e=this;return this.detalles.reduce(function(t,a,o){return e.detalles[o].subtotal=a.precio*a.cantidad_solicitada,t+a.precio*a.cantidad_solicitada},0)},totalAmountE:function(){var e=this,t=this.detalles.reduce(function(t,a,o){return e.detalles[o].subtotalE=a.precio*a.cantidad_entregada,t+a.precio*a.cantidad_entregada},0);return e.form.total=t,t},Nuevo:function(){var e=this;e.titulo="Nuevo Registro",e.gridMode=!1,e.insertMode=!0,e.detalles=[];var t={id:0,fecha:null,no_serie:null,no_compra:null,totalSolicitud:0,empleadoId:0,estado:"L",tipo:null};e.getCorrelativos(),e.mapData(t),e.showButtons=!0,e.showCant=!1,e.disabledInputs=!1},getCorrelativos:function(){var e=this;e.$store.state.services.solicitudService.getCorrelativos().then(function(t){e.form.codigo=t.data.codigo_solicitud,e.form.no_serie=t.data.no_serie,e.form.no_orden=t.data.no_orden,e.form.codigo_programatico=t.data.codigo_programatico}).catch(function(e){})},mapData:function(e){var t=this;t.form.Id=e.id,t.form.empleadoId=e.empleadoId,t.form.fecha_solicitud=e.fecha_solicitud,t.form.fecha_entrega=e.fecha_entrega,t.form.no_serie=e.no_serie,t.totalSolicitud=e.totalSolicitud,t.form.no_orden=e.no_orden,t.form.tipo=e.tipo,t.form.estado_solicitud=e.estado,t.form.codigo=e.codigo,t.form.codigo_programatico=e.codigoProgramatico,t.totalAmount()},editar:function(e){var t=this;t.titulo="Detalle Solicitud",t.getDetalle(e),t.mapData(e),"F"==e.estado?t.showCant=!0:t.showCant=!1,t.gridMode=!1,t.insertMode=!0,t.showButtons=!1,t.disabledInputs=!0,t.disableEntrega=!0,t.showSave=!1},entregar:function(e){var t=this;t.titulo="Detalle Solicitud",t.getDetalle(e),e.estado="F",e.fecha_entrega=e.fecha_entrega,t.mapData(e),t.showCant=!0,t.gridMode=!1,t.insertMode=!0,t.showButtons=!1,t.disabledInputs=!0,t.disableEntrega=!1,t.showSave=!0},cancelar:function(){var e=this;e.gridMode=!0,e.insertMode=!1,e.detalles=[]},getDetalle:function(e){var t=this;t.$store.state.services.solicitudService.getDetalle(e.id).then(function(e){t.detalles=e.data}).catch(function(e){})},getAll:function(){var e=this;e.loading=!0,e.$store.state.services.solicitudService.getAll(e.grid.pagination,"L").then(function(t){e.solicitadas=t.data.data||[],e.grid.total=t.data.total,e.loading=!1}).catch(function(t){e.grid.items=[],e.grid.total=0,e.loading=!1})},sizeChange:function(e){this.grid.pagination.rowsPerPage=e,this.getAll()},currentChange:function(e,t){this.grid.pagination.page=e,this.getAll()},getEmpleados:function(){var e=this;e.loading=!0,e.$store.state.services.empleadoService.getAll(e.grid.pagination).then(function(t){e.loading=!1,e.empleados=t.data.data}).catch(function(e){})},save:function(){var e=this;e.$refs.ruleForm.validate(function(t){if(t){e.form.detalle=e.detalles;for(var a=e.form,o=0;o<a.detalle.length;o++){var r=a.detalle[o].cantidad_entregada,n=a.detalle[o].stock,i=a.detalle[o].nombre;if(r>n)return void e.message("error!!existencia insuficiente del producto "+i+" cuenta con "+n+" productos","error",!1)}e.loading=!0,e.$store.state.services.solicitudService.save(a).then(function(t){e.loading=!1,e.gridMode=!0,e.insertMode=!1,e.getAll(),e.$refs.proc.getAll(),e.$refs.hist.getAll(),a.id>0?e.message("solicitud Actualizado correctamente","success",!1):e.message("solicitud guardada correctamente","success",!1)}).catch(function(e){})}})},changeStatus:function(e,t){function a(){o.loading=!0,o.$store.state.services.solicitudService.changeStatus(e.id,t).then(function(e){o.loading=!1,o.getAll(),o.$refs.proc.getAll()}).catch(function(e){})}var o=this;this.$confirm("Esta seguro de enviar esta solicitud a revision",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){a(),o.message("Solicitud ha sido Enviada para revision","success",!1)}).catch(function(){})},remove:function(e){function t(){var t=e.id;a.loading=!0,a.$store.state.services.solicitudService.remove(t).then(function(e){a.loading=!1,a.getAll("L")}).catch(function(e){})}var a=this;this.$confirm("Esta seguro de cancelar esta solicitud ",{confirmButtonText:"Si",cancelButtonText:"Cancelar",type:"warning"}).then(function(){t(),a.message("Solicitud ha sido Cancelada","success",!1)}).catch(function(){})},message:function(e,t,a){this.$message({message:e,type:t,showClose:a})}}},It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.gridMode,expression:"gridMode"}]},[a("h2",[e._v("Solicitudes")]),e._v(" "),a("el-col",{attrs:{span:12}}),e._v(" "),a("div",{staticClass:"form-group container card"},[a("div",{staticClass:"form-group"},[a("el-button",{staticClass:"pull-right",attrs:{type:"success"},on:{click:function(t){e.Nuevo()}}},[a("i",{staticClass:"fa fa-plus"},[e._v(" Nuevo")])]),e._v(" "),a("h4",[e._v("Solicitadas")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.solicitadas,"default-sort":{prop:"nombre",order:"ascending"},stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("b",[e._v("Fecha:")]),e._v(" "+e._s(e._f("moment")(t.row.fecha_solicitud,"llll")))]),e._v(" "),a("p",[a("b",[e._v("Departamento:")]),e._v(" "+e._s(t.row.departamento))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fecha_solicitud",label:"Fecha",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                  "+e._s(e._f("moment")(t.row.fecha_solicitud,"DD-MM-YYYY"))+"\r\n              ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"departamento",label:"Departamento",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"total",label:"Total",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n                    "+e._s(e._f("currency")(t.row.total))+"\r\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"right",label:"opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small",zize:"small"},on:{click:function(a){e.changeStatus(t.row,"E")}}},[a("i",{staticClass:"fa fa-paper-plane"})]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"small"},on:{click:function(a){e.editar(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(a){e.remove(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.grid.pagination.page,"page-sizes":[6],layout:"total, sizes, prev, pager, next, jumper",total:e.grid.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange,"update:currentPage":function(t){e.$set(e.grid.pagination,"page",t)}}})],1)],1),e._v(" "),a("proceso",{ref:"proc",on:{clicked:e.entregar}}),e._v(" "),a("historial",{ref:"hist",on:{clicked:e.editar}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.insertMode,expression:"insertMode"}]},[a("h2",[e._v(e._s(e.titulo))]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",attrs:{"label-position":"top",model:e.form,rules:e.rules}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"Codigo solicitud",prop:"codigo"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.codigo,callback:function(t){e.$set(e.form,"codigo",t)},expression:"form.codigo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Empleado",prop:"empleadoId"}},[a("el-select",{attrs:{disabled:e.disabledInputs,zize:"large",filterable:"",clearable:"",placeholder:"Proveedor"},model:{value:e.form.empleadoId,callback:function(t){e.$set(e.form,"empleadoId",t)},expression:"form.empleadoId"}},e._l(e.empleados,function(e){return a("el-option",{key:e.empleadoId,attrs:{label:e.primer_nombre+" "+e.primer_apellido,value:e.empleadoId}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"Numero de serie",prop:"no_serie"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.no_serie,callback:function(t){e.$set(e.form,"no_serie",t)},expression:"form.no_serie"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"No Orden",prop:"no_orden"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.no_orden,callback:function(t){e.$set(e.form,"no_orden",t)},expression:"form.no_orden"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Tipo de solicitud"}},[a("el-select",{attrs:{disabled:e.disabledInputs,placeholder:"Tipo de solicitud"},model:{value:e.form.tipo,callback:function(t){e.$set(e.form,"tipo",t)},expression:"form.tipo"}},e._l(e.tipos,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Fecha",prop:"fecha_solicitud"}},[a("el-date-picker",{attrs:{disabled:e.disabledInputs,type:"datetime",placeholder:"Selecione la fecha y hora"},model:{value:e.form.fecha_solicitud,callback:function(t){e.$set(e.form,"fecha_solicitud",t)},expression:"form.fecha_solicitud"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Codigo Programatico",prop:"codigo_programatico"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.codigo_programatico,callback:function(t){e.$set(e.form,"codigo_programatico",t)},expression:"form.codigo_programatico"}})],1)],1),e._v(" "),a("el-col",{staticClass:"form-group",attrs:{span:24}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showButtons,expression:"showButtons"}],attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.show}},[e._v("Agregar Articulo")])],1),e._v(" "),a("div",{staticClass:"form-group"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.detalles,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"opciones",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showButtons,expression:"showButtons"}],attrs:{type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(t){e.removeProducto()}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{disabled:e.disabledInputs,prop:"nombre",label:"Producto"}}),e._v(" "),a("el-table-column",{attrs:{prop:"precio",label:"Precio"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{precision:2,min:0},model:{value:t.row.precio,callback:function(a){e.$set(t.row,"precio",a)},expression:"scope.row.precio"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cantidad",label:"Cantidad solicitada"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{disabled:e.disabledInputs,min:0},model:{value:t.row.cantidad_solicitada,callback:function(a){e.$set(t.row,"cantidad_solicitada",a)},expression:"scope.row.cantidad_solicitada"}})]}}])}),e._v(" "),e.showCant?a("div",[a("el-table-column",{attrs:{prop:"cantidad",label:"Cantidad Entregada"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{disabled:!e.disabledInputs||e.disableEntrega,min:0},model:{value:t.row.cantidad_entregada,callback:function(a){e.$set(t.row,"cantidad_entregada",a)},expression:"scope.row.cantidad_entregada"}})]}}])})],1):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"subtotal",label:"Subtotal Solicitado"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("h6",[e._v(e._s(e._f("currency")(t.row.subtotal)))])])]}}])}),e._v(" "),e.showCant?a("el-table-column",{attrs:{prop:"subtotal",label:"Subtotal Entregado"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("h6",[e._v(e._s(e._f("currency")(t.row.subtotalE)))])])]}}])}):e._e()],1),e._v(" "),a("div",{staticClass:"form-group"},[e.showCant?a("h5",{staticClass:"pull-right text-success"},[e._v("Total Entregado: "+e._s(e._f("currency")(e.totalAmountE())))]):e._e(),e._v(" "),a("h5",{staticClass:"pull-right text-warning",staticStyle:{"padding-right":"50px"}},[e._v("Total Solicitado: "+e._s(e._f("currency")(e.totalAmount())))])]),e._v(" "),a("div")],1),e._v(" "),a("el-row",{staticClass:"space"},[a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showButtons||e.showSave,expression:"showButtons || showSave"}],attrs:{type:"primary"},on:{click:function(t){e.save()}}},[a("i",{staticClass:"fa fa-save"}),e._v(" Guardar")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.cancelar()}}},[a("i",{staticClass:"fa fa-undo"}),e._v(" Volver")])],1)],1)],1)],1),e._v(" "),a("modal",{attrs:{transition:"nice-modal-fade",adaptive:!0,classes:"demo-modal-class",width:"60%",height:"auto",name:"producto"}},[a("div",{staticClass:"size-modal-content"},[a("producto",{on:{clicked:e.addProducto}})],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{on:{click:e.hide}},[e._v("Cerrar")])],1)]),e._v(" "),a("modals-container")],1)},Et=[],Ut={render:It,staticRenderFns:Et},Ft=Ut,Tt=a("VU/8"),Bt=n,Rt=Tt(Nt,Ft,!1,Bt,null,null),qt=Rt.exports;i.default.use(q.a);var Vt=[{path:"/",name:"Default",component:X},{path:"/departamento",name:"DepartamentoIndex",component:oe},{path:"/cargo",name:"CargoIndex",component:ue},{path:"/empleado",name:"EmpleadoIndex",component:_e},{path:"/categoriaAlmacen",name:"CategoriaAlmacenIndex",component:Ae},{path:"/categoriaProducto",name:"CategoriaProductoIndex",component:Ee},{path:"/producto",name:"ProductoIndex",component:Qe},{path:"/proveedor",name:"ProveedorIndex",component:nt},{path:"/compra",name:"CompraIndex",component:vt},{path:"/solicitud",name:"SolicitudIndex",component:qt},{path:"/proceso",name:"ProcesoSolicitud",component:Ct},{path:"/historial",name:"HistorialSolicitud",component:Dt}],Lt=new q.a({routes:Vt}),Ht=a("uUlv"),Ot=a("mtWM"),Yt=a.n(Ot),Gt=a("Zrlr"),Jt=a.n(Gt),Xt=a("wxAW"),Wt=a.n(Xt),Qt=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"departamentos"}return Wt()(e,[{key:"getAll",value:function(e){var t=this;return console.log(t.baseUrl),t.axios.get(""+t.baseUrl)}},{key:"get",value:function(e){}},{key:"save",value:function(e){console.log(e);var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}}]),e}(),Kt=Qt,Zt=function(){function e(){Jt()(this,e)}return Wt()(e,[{key:"message",value:function(e,t){return this.$message({message:e,type:t})}}]),e}(),ea=Zt,ta=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"cargos"}return Wt()(e,[{key:"getAll",value:function(e){var t=this;return console.log(e),t.axios.post(t.baseUrl+"/listar",e)}},{key:"get",value:function(e){}},{key:"save",value:function(e){var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}}]),e}(),aa=ta,oa=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"empleados"}return Wt()(e,[{key:"getAll",value:function(e){var t=this;return t.axios.post(t.baseUrl+"/listar",e)}},{key:"get",value:function(e){}},{key:"save",value:function(e){var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}}]),e}(),ra=oa,na=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"categorias"}return Wt()(e,[{key:"getAll",value:function(e){var t=this;return console.log(e),t.axios.post(t.baseUrl+"/listar",e)}},{key:"get",value:function(e){}},{key:"save",value:function(e){var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}}]),e}(),ia=na,sa=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"categoriasProductos"}return Wt()(e,[{key:"getAll",value:function(e){var t=this;return console.log(e),t.axios.post(t.baseUrl+"/listar",e)}},{key:"getByAlmacen",value:function(e){var t=this;return t.axios.get(t.baseUrl+"/listar/"+e)}},{key:"save",value:function(e){var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}}]),e}(),la=sa,ca=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"productos"}return Wt()(e,[{key:"getAll",value:function(e,t){var a=this;return a.axios.post(a.baseUrl+"/listar/"+t,e)}},{key:"get",value:function(e){var t=this;return t.axios.get(t.baseUrl+"/"+e)}},{key:"save",value:function(e){var t=this;return t.axios.post(t.baseUrl+"/guardar",e)}},{key:"remove",value:function(e,t){var a=this;return a.axios.delete(a.baseUrl+"/"+e+"/"+t)}}]),e}(),da=ca,ua=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"proveedores"}return Wt()(e,[{key:"getAll",value:function(e){var t=this;return console.log(e),t.axios.post(t.baseUrl+"/listar",e)}},{key:"get",value:function(e){}},{key:"save",value:function(e){var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}}]),e}(),ma=ua,pa=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"compras"}return Wt()(e,[{key:"getAll",value:function(e){var t=this;return t.axios.post(t.baseUrl+"/listar",e)}},{key:"getDetalle",value:function(e){var t=this;return t.axios.get(t.baseUrl+"/listar/"+e)}},{key:"get",value:function(e){}},{key:"save",value:function(e){var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}}]),e}(),ga=pa,fa=function(){function e(t,a){Jt()(this,e),this.axios=t,this.baseUrl=a+"solicitudes"}return Wt()(e,[{key:"getAll",value:function(e,t){var a=this;return a.axios.post(a.baseUrl+"/listar/"+t,e)}},{key:"getDetalle",value:function(e){var t=this;return t.axios.get(t.baseUrl+"/listar/"+e)}},{key:"changeStatus",value:function(e,t){var a=this;return a.axios.get(a.baseUrl+"/"+e+"/"+t)}},{key:"save",value:function(e){var t=this;return t.axios.post(""+t.baseUrl,e)}},{key:"remove",value:function(e){var t=this;return t.axios.delete(t.baseUrl+"/"+e)}},{key:"getCorrelativos",value:function(){var e=this;return e.axios.get(e.baseUrl+"/correlativos")}}]),e}(),va=fa,ha="http://localhost:55330/";Yt.a.defaults.headers.common.Accept="application/json",Yt.a.defaults.headers.common.Authorization="bearer "+User.Token;var ba={departamentoService:new Kt(Yt.a,ha),globalService:new ea(Yt.a,ha),cargoService:new aa(Yt.a,ha),empleadoService:new ra(Yt.a,ha),categoriaAlmacenService:new ia(Yt.a,ha),categoriaProductoService:new la(Yt.a,ha),proveedorService:new ma(Yt.a,ha),productoService:new da(Yt.a,ha),compraService:new ga(Yt.a,ha),solicitudService:new va(Yt.a,ha)};i.default.use(Ht.a);var _a={services:ba},wa=new Ht.a.Store({state:_a}),ya=(a("H0vN"),a("PJh5"));a("LT9G"),i.default.use(a("mjDs"),{moment:ya}),i.default.use(p.a),i.default.config.productionTip=!1,i.default.use(f.a,{dynamic:!0,injectModalsContainer:!0}),i.default.use(l.a,{locale:d.a}),i.default.use(m.a,{symbol:"Q",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",symbolPosition:"front",symbolSpacing:!0}),new i.default({el:"#app",router:Lt,store:wa,template:"<App/>",components:{App:R}})},S8jo:function(e,t){},oJ8F:function(e,t){},tvR6:function(e,t){},uslO:function(e,t,a){function o(e){return a(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id="uslO"},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2d2fe922bce484303374.js.map